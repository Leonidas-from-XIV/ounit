<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>OUnitTest (ounit2.OUnitTest)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">ounit2</a> &#x00BB; OUnitTest</nav><header class="odoc-preamble"><h1>Module <code><span>OUnitTest</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec exception" id="exception-Skip" class="anchored"><a href="#exception-Skip" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Skip</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Todo" class="anchored"><a href="#exception-Todo" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Todo</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec exception" id="exception-OUnit_failure" class="anchored"><a href="#exception-OUnit_failure" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">OUnit_failure</span> <span class="keyword">of</span> string</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-node" class="anchored"><a href="#type-node" class="anchor"></a><code><span><span class="keyword">type</span> node</span><span> = </span></code><table><tr id="type-node.ListItem" class="anchored"><td class="def variant constructor"><a href="#type-node.ListItem" class="anchor"></a><code><span>| </span><span><span class="constructor">ListItem</span> <span class="keyword">of</span> int</span></code></td></tr><tr id="type-node.Label" class="anchored"><td class="def variant constructor"><a href="#type-node.Label" class="anchor"></a><code><span>| </span><span><span class="constructor">Label</span> <span class="keyword">of</span> string</span></code></td></tr></table></div><div class="spec-doc"><p>See OUnit.mli.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> path</span><span> = <span><a href="#type-node">node</a> list</span></span></code></div><div class="spec-doc"><p>See OUnit.mli.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-backtrace" class="anchored"><a href="#type-backtrace" class="anchor"></a><code><span><span class="keyword">type</span> backtrace</span><span> = <span>string option</span></span></code></div><div class="spec-doc"><p>See OUnit2.mli.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-test_length" class="anchored"><a href="#type-test_length" class="anchor"></a><code><span><span class="keyword">type</span> test_length</span><span> = </span></code><table><tr id="type-test_length.Immediate" class="anchored"><td class="def variant constructor"><a href="#type-test_length.Immediate" class="anchor"></a><code><span>| </span><span><span class="constructor">Immediate</span></span></code></td></tr><tr id="type-test_length.Short" class="anchored"><td class="def variant constructor"><a href="#type-test_length.Short" class="anchor"></a><code><span>| </span><span><span class="constructor">Short</span></span></code></td></tr><tr id="type-test_length.Long" class="anchored"><td class="def variant constructor"><a href="#type-test_length.Long" class="anchor"></a><code><span>| </span><span><span class="constructor">Long</span></span></code></td></tr><tr id="type-test_length.Huge" class="anchored"><td class="def variant constructor"><a href="#type-test_length.Huge" class="anchor"></a><code><span>| </span><span><span class="constructor">Huge</span></span></code></td></tr><tr id="type-test_length.Custom_length" class="anchored"><td class="def variant constructor"><a href="#type-test_length.Custom_length" class="anchor"></a><code><span>| </span><span><span class="constructor">Custom_length</span> <span class="keyword">of</span> float</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-result" class="anchored"><a href="#type-result" class="anchor"></a><code><span><span class="keyword">type</span> result</span><span> = </span></code><table><tr id="type-result.RSuccess" class="anchored"><td class="def variant constructor"><a href="#type-result.RSuccess" class="anchor"></a><code><span>| </span><span><span class="constructor">RSuccess</span></span></code></td></tr><tr id="type-result.RFailure" class="anchored"><td class="def variant constructor"><a href="#type-result.RFailure" class="anchor"></a><code><span>| </span><span><span class="constructor">RFailure</span> <span class="keyword">of</span> string * <span><a href="../OUnitLogger/index.html#type-position">OUnitLogger.position</a> option</span> * <a href="#type-backtrace">backtrace</a></span></code></td></tr><tr id="type-result.RError" class="anchored"><td class="def variant constructor"><a href="#type-result.RError" class="anchor"></a><code><span>| </span><span><span class="constructor">RError</span> <span class="keyword">of</span> string * <a href="#type-backtrace">backtrace</a></span></code></td></tr><tr id="type-result.RSkip" class="anchored"><td class="def variant constructor"><a href="#type-result.RSkip" class="anchor"></a><code><span>| </span><span><span class="constructor">RSkip</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-result.RTodo" class="anchored"><td class="def variant constructor"><a href="#type-result.RTodo" class="anchor"></a><code><span>| </span><span><span class="constructor">RTodo</span> <span class="keyword">of</span> string</span></code></td></tr><tr id="type-result.RTimeout" class="anchored"><td class="def variant constructor"><a href="#type-result.RTimeout" class="anchor"></a><code><span>| </span><span><span class="constructor">RTimeout</span> <span class="keyword">of</span> <a href="#type-test_length">test_length</a></span></code></td></tr></table></div><div class="spec-doc"><p>See OUnit.mli.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-result_full" class="anchored"><a href="#type-result_full" class="anchor"></a><code><span><span class="keyword">type</span> result_full</span><span> = <a href="#type-path">path</a> * <a href="#type-result">result</a> * <span><a href="../OUnitLogger/index.html#type-position">OUnitLogger.position</a> option</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-result_list" class="anchored"><a href="#type-result_list" class="anchor"></a><code><span><span class="keyword">type</span> result_list</span><span> = <span><a href="#type-result_full">result_full</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-log_event_t" class="anchored"><a href="#type-log_event_t" class="anchor"></a><code><span><span class="keyword">type</span> log_event_t</span><span> = <span><span>(<a href="#type-path">path</a>, <a href="#type-result">result</a>)</span> <a href="../OUnitLogger/index.html#type-log_event_t">OUnitLogger.log_event_t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-logger" class="anchored"><a href="#type-logger" class="anchor"></a><code><span><span class="keyword">type</span> logger</span><span> = <span><span>(<a href="#type-path">path</a>, <a href="#type-result">result</a>)</span> <a href="../OUnitLogger/index.html#type-logger">OUnitLogger.logger</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-ctxt" class="anchored"><a href="#type-ctxt" class="anchor"></a><code><span><span class="keyword">type</span> ctxt</span><span> = </span><span>{</span></code><table><tr id="type-ctxt.conf" class="anchored"><td class="def record field"><a href="#type-ctxt.conf" class="anchor"></a><code><span>conf : <a href="../OUnitConf/index.html#type-conf">OUnitConf.conf</a>;</span></code></td></tr><tr id="type-ctxt.logger" class="anchored"><td class="def record field"><a href="#type-ctxt.logger" class="anchor"></a><code><span>logger : <a href="#type-logger">logger</a>;</span></code></td></tr><tr id="type-ctxt.shared" class="anchored"><td class="def record field"><a href="#type-ctxt.shared" class="anchor"></a><code><span>shared : <a href="../OUnitShared/index.html#type-shared">OUnitShared.shared</a>;</span></code></td></tr><tr id="type-ctxt.path" class="anchored"><td class="def record field"><a href="#type-ctxt.path" class="anchor"></a><code><span>path : <a href="#type-path">path</a>;</span></code></td></tr><tr id="type-ctxt.test_logger" class="anchored"><td class="def record field"><a href="#type-ctxt.test_logger" class="anchor"></a><code><span>test_logger : <span><a href="#type-result">result</a> <a href="../OUnitLogger/Test/index.html#type-t">OUnitLogger.Test.t</a></span>;</span></code></td></tr><tr id="type-ctxt.tear_down" class="anchored"><td class="def record field"><a href="#type-ctxt.tear_down" class="anchor"></a><code><span><span class="keyword">mutable</span> tear_down : <span><span>(<span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> list</span>;</span></code></td></tr><tr id="type-ctxt.tear_down_mutex" class="anchored"><td class="def record field"><a href="#type-ctxt.tear_down_mutex" class="anchor"></a><code><span>tear_down_mutex : <a href="../OUnitShared/Mutex/index.html#type-t">OUnitShared.Mutex.t</a>;</span></code></td></tr><tr id="type-ctxt.non_fatal" class="anchored"><td class="def record field"><a href="#type-ctxt.non_fatal" class="anchor"></a><code><span>non_fatal : <span><span><a href="#type-result_full">result_full</a> list</span> <span class="xref-unresolved">Stdlib</span>.ref</span>;</span></code></td></tr><tr id="type-ctxt.non_fatal_mutex" class="anchored"><td class="def record field"><a href="#type-ctxt.non_fatal_mutex" class="anchor"></a><code><span>non_fatal_mutex : <a href="../OUnitShared/Mutex/index.html#type-t">OUnitShared.Mutex.t</a>;</span></code></td></tr><tr id="type-ctxt.initial_environment" class="anchored"><td class="def record field"><a href="#type-ctxt.initial_environment" class="anchor"></a><code><span>initial_environment : <span>string array</span>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-test_fun" class="anchored"><a href="#type-test_fun" class="anchor"></a><code><span><span class="keyword">type</span> test_fun</span><span> = <span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-test" class="anchored"><a href="#type-test" class="anchor"></a><code><span><span class="keyword">type</span> test</span><span> = </span></code><table><tr id="type-test.TestCase" class="anchored"><td class="def variant constructor"><a href="#type-test.TestCase" class="anchor"></a><code><span>| </span><span><span class="constructor">TestCase</span> <span class="keyword">of</span> <a href="#type-test_length">test_length</a> * <a href="#type-test_fun">test_fun</a></span></code></td></tr><tr id="type-test.TestList" class="anchored"><td class="def variant constructor"><a href="#type-test.TestList" class="anchor"></a><code><span>| </span><span><span class="constructor">TestList</span> <span class="keyword">of</span> <span><a href="#type-test">test</a> list</span></span></code></td></tr><tr id="type-test.TestLabel" class="anchored"><td class="def variant constructor"><a href="#type-test.TestLabel" class="anchor"></a><code><span>| </span><span><span class="constructor">TestLabel</span> <span class="keyword">of</span> string * <a href="#type-test">test</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-delay_of_length" class="anchored"><a href="#val-delay_of_length" class="anchor"></a><code><span><span class="keyword">val</span> delay_of_length : <span><a href="#type-test_length">test_length</a> <span class="arrow">&#45;&gt;</span></span> float</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_shard_id" class="anchored"><a href="#val-get_shard_id" class="anchor"></a><code><span><span class="keyword">val</span> get_shard_id : <span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-section_ctxt" class="anchored"><a href="#val-section_ctxt" class="anchor"></a><code><span><span class="keyword">val</span> section_ctxt : <span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Isolate a function inside a context. All the added tear down will run before returning.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-with_ctxt" class="anchored"><a href="#val-with_ctxt" class="anchor"></a><code><span><span class="keyword">val</span> with_ctxt : <span><a href="../OUnitConf/index.html#type-conf">OUnitConf.conf</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-logger">logger</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../OUnitShared/index.html#type-shared">OUnitShared.shared</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span><a href="#type-result_full">result_full</a> list</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Create a context and run the function.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-standard_modules" class="anchored"><a href="#val-standard_modules" class="anchor"></a><code><span><span class="keyword">val</span> standard_modules : <span>string list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-result_full_of_exception" class="anchored"><a href="#val-result_full_of_exception" class="anchor"></a><code><span><span class="keyword">val</span> result_full_of_exception : <span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <a href="#type-path">path</a> * <a href="#type-result">result</a> * <span><a href="../OUnitLogger/index.html#type-position">OUnitLogger.position</a> option</span></span></code></div><div class="spec-doc"><p>Transform an exception in a result.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-report_result_full" class="anchored"><a href="#val-report_result_full" class="anchor"></a><code><span><span class="keyword">val</span> report_result_full : <span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="#type-path">path</a> * <a href="#type-result">result</a> * <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-path">path</a> * <a href="#type-result">result</a> * <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-non_fatal" class="anchored"><a href="#val-non_fatal" class="anchor"></a><code><span><span class="keyword">val</span> non_fatal : <span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="#type-ctxt">ctxt</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Isolate a function inside a context, just as <code>!section_ctxt</code> but don't propagate a failure, register it for later.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;:)" class="anchored"><a href="#val-(&gt;:)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;:) : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;::)" class="anchored"><a href="#val-(&gt;::)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;::) : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test_fun">test_fun</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-(&gt;:::)" class="anchored"><a href="#val-(&gt;:::)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;:::) : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-test">test</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-test_decorate" class="anchored"><a href="#val-test_decorate" class="anchor"></a><code><span><span class="keyword">val</span> test_decorate : <span><span>(<span><a href="#type-test_fun">test_fun</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test_fun">test_fun</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-test">test</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-test_case_count" class="anchored"><a href="#val-test_case_count" class="anchor"></a><code><span><span class="keyword">val</span> test_case_count : <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_node" class="anchored"><a href="#val-string_of_node" class="anchor"></a><code><span><span class="keyword">val</span> string_of_node : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Path" class="anchored"><a href="#module-Path" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Path/index.html">Path</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-MapPath" class="anchored"><a href="#module-MapPath" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="MapPath/index.html">MapPath</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-string_of_path" class="anchored"><a href="#val-string_of_path" class="anchor"></a><code><span><span class="keyword">val</span> string_of_path : <span><span><a href="#type-node">node</a> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-test_case_paths" class="anchored"><a href="#val-test_case_paths" class="anchor"></a><code><span><span class="keyword">val</span> test_case_paths : <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-node">node</a> list</span> list</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-SetTestPath" class="anchored"><a href="#module-SetTestPath" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="SetTestPath/index.html">SetTestPath</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-test_filter" class="anchored"><a href="#val-test_filter" class="anchor"></a><code><span><span class="keyword">val</span> test_filter : <span>?skip:bool <span class="arrow">&#45;&gt;</span></span> <span><span><a href="SetTestPath/index.html#type-elt">SetTestPath.elt</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-test">test</a> option</span></span></code></div></div></div></body></html>